{"version":3,"sources":["app/GullLayout/SharedComponents/Footer.jsx","app/views/sessions/UserDepartments.jsx"],"names":["Footer","jwtAuthService","getAppSettings","PRIMARY_COLOR","COMPANY_NAME","SECONDARY_COLOR","PURCHASE_YEAR","className","id","href","onClick","e","preventDefault","rel","style","backgroundColor","src","alt","UserDepartmentsComponent","props","state","departmentRolesList","backgroundColors","activeUser","navigate","setHoverClass","index","hover_class","setState","pushUserToDashboard","departmentRole","setActiveDepartmentRole","console","log","role_tasks","role","userTasks","JSON","parse","setUserTasks","window","location","replace","this","getUserDepartmentRoles","getUser","AppNotification","msg","type","logoutUser","itemIndex","to","first_name","last_name","length","backgroundImage","map","departmentIndex","key","slug","onMouseEnter","department","name","code","description","Component","withRouter","connect","PropTypes","func","isRequired"],"mappings":"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","file":"static/js/106.dbf031ce.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\nimport jwtAuthService from \"app/services/jwtAuthService\";\n\nconst Footer = () => {\n  const { PRIMARY_COLOR, SECONDARY_COLOR, COMPANY_NAME, PURCHASE_YEAR } = jwtAuthService.getAppSettings() || {};\n  return (\n    <Fragment>\n      <div className=\"flex-grow-1\"></div>\n      <div className=\"app-footer\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <p>\n              <strong>{COMPANY_NAME} - <em>Budget Management Portal</em></strong>\n            </p>\n            <p>\n              Intuitive budget capture;\n              Versioning;\n              Expense tracking (accounting systems' integrations);\n              Dynamic workflows (configurable approval stages);\n              Audit trail;\n              Reporting/graphical analytics;\n              Multiple simultaneous cycles (projections);\n              Active Directory (optional)\n            </p>\n          </div>\n        </div>\n        <div className=\"footer-bottom border-top pt-3 d-flex flex-column flex-sm-row align-items-center\">\n          <a\n            id=\"contact-ForeKarst\"\n            className=\"btn text-white btn-rounded\"\n            href=\"mailto:ehirim.emeka.e@gmail.com\"\n            onClick={(e)=>e.preventDefault()}\n            rel=\"noopener noreferrer\"\n            style={{backgroundColor:PRIMARY_COLOR}}\n          >\n             {COMPANY_NAME} &#8482;\n          </a>\n          <span className=\"flex-grow-1\"></span>\n          <div className=\"d-flex align-items-center\">\n            <img className=\"logo\" src=\"/assets/images/logo.png\" alt=\"\" />\n            <div>\n              <p className=\"m-0\">&copy; {PURCHASE_YEAR} {COMPANY_NAME} <b>BMP</b></p>\n              {/* <p className=\"m-0\">All rights reserved</p> */}\n            </div>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Footer;\n","import React, { Component} from \"react\";\r\n\r\nimport Footer from \"../../GullLayout/SharedComponents/Footer\";\r\nimport jwtAuthService from \"../../services/jwtAuthService\";\r\nimport { logoutUser } from \"app/redux/actions/UserActions\";\r\nimport AppNotification from \"app/appNotifications\";\r\n\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport { FaCog } from \"react-icons/fa\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\n\r\n\r\nexport class UserDepartmentsComponent extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n\r\n  state = {\r\n    departmentRolesList:[\r\n\r\n    ],\r\n    backgroundColors:[\r\n      'primary',\r\n      'secondary',\r\n      'success',\r\n      'info_custom',\r\n      'secondary_custom',\r\n      'info',\r\n      'warning',\r\n      'danger',\r\n    ],\r\n    activeUser:{},\r\n    navigate:false\r\n  }\r\n\r\n  setHoverClass = (index) => {\r\n    let { departmentRolesList } = this.state\r\n    departmentRolesList[index].hover_class = true;\r\n    this.setState({ departmentRolesList });\r\n\r\n  }\r\n\r\n  componentDidMount(){\r\n    let { departmentRolesList, activeUser } = this.state\r\n      departmentRolesList = jwtAuthService.getUserDepartmentRoles();\r\n      activeUser = jwtAuthService.getUser();\r\n      if(!activeUser){\r\n        new AppNotification({\r\n          msg:\"Unauthenticated! Please login.\",\r\n          type:\"error\"\r\n        })\r\n        this.props.logoutUser();\r\n      }\r\n      this.setState({ departmentRolesList, activeUser });\r\n  }\r\n\r\n  pushUserToDashboard = (departmentRole)=>{\r\n    jwtAuthService.setActiveDepartmentRole(departmentRole);\r\n    console.log('DEPPAPPA', departmentRole)\r\n    const { role } = departmentRole;\r\n    const { role_tasks } = role;\r\n    const userTasks = role_tasks ? JSON.parse(role_tasks) : [];\r\n\r\n    jwtAuthService.setActiveDepartmentRole(departmentRole);\r\n    jwtAuthService.setUserTasks(userTasks);\r\n\r\n    let href= window.location.href;\r\n    href = href.replace(\"user-departments\",\"dashboard/v1\");\r\n    window.location.href=href;\r\n    // this.setState({navigate:true});\r\n\r\n  }\r\n\r\n\r\n\r\nrender(){\r\n\r\n  let itemIndex = 0;\r\n  const { backgroundColors, activeUser, departmentRolesList } = this.state;\r\n  const setIndex = (departmentIndex) => {\r\n    itemIndex = departmentIndex;\r\n    if(itemIndex > 7){\r\n      itemIndex = 0;\r\n    }\r\n    const backgroundColor = backgroundColors[itemIndex]\r\n    return backgroundColor;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return this.state.navigate ? (<Redirect to=\"/dashboard/v1\"/>) : (\r\n    <>\r\n\r\n    <div className=\"cardx\"   style={{\r\n\r\n      }}>\r\n\r\n      <div className=\"card-header border-bottom ante-header\">\r\n        <button className=\"float-right btn btn-secondary_custom\" onClick={this.props.logoutUser}>\r\n          Logout <i className='i-Power-2'></i>\r\n        </button>\r\n        <h3>\r\n          <span className=\"text-success\">Welcome,</span> <b>{ activeUser?.first_name } { activeUser?.last_name }</b>.&nbsp;\r\n          {\r\n            departmentRolesList.length ? (<em>Continue to one of your departments. You can always switch later on.</em>)  :(\r\n                <em className='text-danger'>You do not have any active profile(s) for now. Please contact Admin.</em>\r\n              )\r\n          }\r\n\r\n        </h3>\r\n      </div>\r\n\r\n      <div className=\"card-bodyx ante-page\" style={{ backgroundImage: \"url(/assets/images/photo-long-3.jpg)\"}}>\r\n\r\n        <div className=\"row p-3\">\r\n          {\r\n          !departmentRolesList.length ? (\r\n          <div className='col-md-12 '>\r\n            <div className='jumbotron mt-6' >\r\n                <textarea className='form-control'/>\r\n            </div>\r\n          </div>\r\n          ):  departmentRolesList.map((departmentRole, index)=>{\r\n              return (\r\n\r\n                <div className={`col-md-4 mb-3 hover`} key={departmentRole?.slug} onClick={()=>this.pushUserToDashboard(departmentRole)}>\r\n                  <div className={`card ${departmentRole.hover_class ? \"shadow-lg\":\"\"} text-white bg-${setIndex(index)}`} onMouseEnter={()=>this.setHoverClass(index)}>\r\n                    <div className=\"card-title\">\r\n                      <h4 className=\"pt-2 text-center text-white\">{departmentRole?.department?.name} ({departmentRole?.department?.code})</h4>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <h4 className=\"text-white\">\r\n                        <b>Role:</b> {departmentRole?.role.name}\r\n                      </h4>\r\n                      <p className=\"card-text\">\r\n                        {departmentRole?.role.description}\r\n                      </p>\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n                </div>\r\n\r\n              )\r\n            })\r\n          }\r\n\r\n\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n\r\n      <div className='outer-footer'>\r\n        <Footer/>\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n    </>\r\n\r\n\r\n  )\r\n}\r\n\r\n\r\n}\r\n\r\n\r\nUserDepartmentsComponent.propTypes = {\r\n  logoutUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  logoutUser: PropTypes.func.isRequired,\r\n});\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, {\r\n    logoutUser\r\n  })(UserDepartmentsComponent)\r\n);\r\n\r\n\r\n// export default UserDepartmentsComponent;\r\n"],"sourceRoot":""}